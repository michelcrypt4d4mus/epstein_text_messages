from epstein_files.documents.document import Document
from epstein_files.documents.other_file import OtherFile

import pytest

INTERESTING_FILE_IDS = [
    "010560",
    "010566",
    "010617",
    "010735",
    "010757",
    "010887",
    "011304",
    "011472",
    "011908",
    "012048",
    "012103",
    "012130",
    "012197",
    "012707",
    "013304",
    "013463",
    "013489",
    "014037",
    "014084",
    "014118",
    "014652",
    "014788",
    "014797",
    "015529",
    "015590",
    "015650",
    "015671",
    "015672",
    "016197",
    "016420",
    "016699",
    "017488",
    "017771",
    "017787",
    "017789",
    "017800",
    "017818",
    "017824",
    "017830",
    "017904",
    "017935",
    "018224",
    "018872",
    "019086",
    "019206",
    "019297",
    "019300",
    "019352",
    "019448",
    "019474",
    "019476",
    "019477",
    "019856",
    "019874",
    "020153",
    "020447",
    "020662",
    "021120",
    "021434",
    "021569",
    "021824",
    "022237",
    "022267",
    "022367",
    "022405",
    "022407",
    "022494",
    "022707",
    "022727",
    "022746",
    "022780",
    "022816",
    "022844",
    "022863",
    "022894",
    "022952",
    "023050",
    "023096",
    "023361",
    "023644",
    "024003",
    "024117",
    "024185",
    "024229",
    "024256",
    "024271",
    "024432",
    "024631",
    "024817",
    "025147",
    "025353",
    "025540",
    "025663",
    "025704",
    "025797",
    "025937",
    "025939",
    "026011",
    "026134",
    "026384",
    "026565",
    "026582",
    "026583",
    "026584",
    "026634",
    "026793",
    "026854",
    "027009",
    "027071",
    "027074",
    "028540",
    "028965",
    "029102",
    "029104",
    "029257",
    "029301",
    "029302",
    "029304",
    "029315",
    "029326",
    "029350",
    "029398",
    "029416",
    "029427",
    "029448",
    "029475",
    "029623",
    "030142",
    "030426",
    "030573",
    "030875",
    "030884",
    "031447",
    "031546",
    "031743",
    "032206",
    "032208",
    "032209",
    "032210",
    "032321",
    "032724",
    "032735",
    "033220",
    "033236",
    "033338",
    "033432",
    "033433",
    "033434",
    "EFTA00000476",
    "EFTA00001884",
    "EFTA00004477",
    "EFTA00005783",
    "EFTA00007157",
    "EFTA00007781",
    "EFTA00009622",
    "EFTA00039025",
    "EFTA00039156",
    "EFTA00039227",
    "EFTA00039295",
    "EFTA00039312",
    "EFTA00039351",
    "EFTA00128987",
    "EFTA00295126",
    "EFTA00309271",
    "EFTA00584696",
    "EFTA00591691",
    "EFTA00597484",
    "EFTA00603348",
    "EFTA00603445",
    "EFTA00604942",
    "EFTA00605699",
    "EFTA00609489",
    "EFTA00614142",
    "EFTA00621239",
    "EFTA00666194",
    "EFTA00797613",
    "EFTA00803405",
    "EFTA00803459",
    "EFTA00803464",
    "EFTA00803491",
    "EFTA00805569",
    "EFTA00805860",
    "EFTA00808277",
    "EFTA00810239",
    "EFTA00810306",
    "EFTA00810312",
    "EFTA00810352",
    "EFTA00810362",
    "EFTA00810400",
    "EFTA00810474",
    "EFTA00810510",
    "EFTA00811130",
    "EFTA00811666",
    "EFTA00811791",
    "EFTA00811797",
    "EFTA00811866",
    "EFTA00836182",
    "EFTA01082451",
    "EFTA01087311",
    "EFTA01088079",
    "EFTA01088484",
    "EFTA01088644",
    "EFTA01089500",
    "EFTA01089506",
    "EFTA01089526",
    "EFTA01092555",
    "EFTA01093509",
    "EFTA01107738",
    "EFTA01108775",
    "EFTA01116280",
    "EFTA01118268",
    "EFTA01120975",
    "EFTA01121035",
    "EFTA01121910",
    "EFTA01141453",
    "EFTA01186455",
    "EFTA01217703",
    "EFTA01217736",
    "EFTA01217787",
    "EFTA01273102",
    "EFTA01299820",
    "EFTA01612721",
    "EFTA01612888",
    "EFTA01613731",
    "EFTA01613759",
    "EFTA01613762",
    "EFTA01618494",
    "EFTA01620764",
    "EFTA01622387",
    "EFTA01734786",
    "EFTA01810372",
    "EFTA02285514",
    "EFTA02725909",
    "EFTA02730274"
]


def test_interesting_file_count(epstein_files):
    interesting_file_ids = sorted([f.file_id for f in epstein_files.interesting_other_files])
    assert interesting_file_ids == sorted(INTERESTING_FILE_IDS)


def test_other_files_author_count(epstein_files):
    known_author_count = Document.known_author_count(epstein_files.other_files)
    assert known_author_count == 418
    assert len(epstein_files.json_files) == 19


def test_other_files_categories(epstein_files):
    assert len([f for f in epstein_files.other_files if not f.category]) == 2425
